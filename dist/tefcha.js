parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"WDTd":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},t=this&&this.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),i=0;for(n=0;n<t;n++)for(var o=arguments[n],s=0,c=o.length;s<c;s++,i++)r[i]=o[s];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=void 0;var r=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return e(t,n),t}(Error),i=function(e){var n=e.lineno,t=e.msg,i=e.src,o=void 0===i?"":i,s=t;n&&n>0&&(s="at line "+n+": "+s);var c="";return o&&n>0&&(c=o.split(/\n/).map(function(e,n){return{lineno:n+1,line:e}}).slice(Math.max(0,n-1-5),n-1+5).map(function(e){var t=e.lineno,r=e.line;return(t===n?">":" ")+t+": "+r}).join("\n")),new r(s+"\n"+c)},o=["if","else","elif","while","for","do","switch","case"],s=t(o,["continue","break","pass"]),c=function(e,t){var r=[],o="";if(e.split(/\r\n|\r|\n/).forEach(function(e,n){if(n++,""!==(e=o+e).trim()){for(var i=0;e.startsWith(t.src.indentStr);)i++,e=e.slice(t.src.indentStr.length);e.startsWith(t.src.commentStr)||(e.endsWith("\\")?o=e.slice(0,-1):(o="",r.push({lineno:n,line:e,nestLevel:i})))}}),""!==o)throw i({msg:"EOF is found after '\\'"});var s=Math.min.apply(Math,r.map(function(e){return e.nestLevel}));return r=r.map(function(e){return n(n({},e),{nestLevel:e.nestLevel-s})})},l=function(e,n){var t={type:"program",lineno:0,children:[]},r=[t];return e.forEach(function(e){var t=e.lineno,c=e.line,l=e.nestLevel;if(r.length-1<l)throw i({lineno:t,src:n,msg:"unexpected indent"});for(;r.length-1>l;)r.pop();var a=r.slice(-1)[0],f=c.split(" ")[0];if(s.includes(f)){var h={type:f,lineno:t,content:c.slice(c.indexOf(" ")+1),children:[]};if(a.children.push(h),o.includes(f))"do"===(a.children.length>0?a.children.slice(-1)[0]:null).type&&"while"===f||r.push(h)}else a.children.push({type:"text",lineno:t,content:c})}),t},a=function e(n,r,o){if(n.children){var s={type:"none",lineno:-1};n.children.forEach(function(e,c){var l=e.lineno;switch(e.type){case"program":case"text":case"if":break;case"else":if(!["if","elif"].includes(s.type))throw i({lineno:l,src:o,msg:'before "else" statement, "if" or "elif" shoud exists.'});break;case"elif":if(!["if","elif"].includes(s.type))throw i({lineno:l,src:o,msg:'before "elif" statement, "if" or "elif" shoud exists.'});break;case"while":case"switch":break;case"case":if("switch"!==n.type)throw i({lineno:l,src:o,msg:'keyword "case" shoud be in "switch" statement.'});break;case"continue":if(!t(r,[n]).some(function(e){return["for","while","do"].includes(e.type)}))throw i({lineno:l,src:o,msg:'at ${lineno} "continue" statement shoud be in loop'});break;case"break":if(!t(r,[n]).some(function(e){return["for","while","do","case"].includes(e.type)}))throw i({lineno:l,src:o,msg:'"break" statement shoud be in loop or "case".'});break;case"do":if(c+1>=n.children.length||"while"!==n.children[c+1].type)throw i({lineno:l,src:o,msg:'cannot find corresponding keyword "while" to keyword "do".'});break;case"pass":break;default:throw i({lineno:l,src:o,msg:'node type "'+e.type+'" is not implemented yet.'})}s=e}),n.children.forEach(function(i){return e(i,t(r,[n]),o)})}},f=function(e,n){var t=c(e,n),r=l(t,e);return a(r,[],e),r};exports.parse=f;
},{}],"qVa1":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,a=1,r=arguments.length;a<r;a++)for(var i in e=arguments[a])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},e=this&&this.__spreadArrays||function(){for(var t=0,e=0,a=arguments.length;e<a;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<a;e++)for(var n=arguments[e],h=0,o=n.length;h<o;h++,i++)r[i]=n[h];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Factory=void 0;var a=function(){return function(a,r){var i=this;this.baseShape=function(){return{x:0,y:0,width:0,height:0,minX:0,minY:0,maxX:0,maxY:0}},this.rect=function(t){var e=t.text;return i.textWrapperShape({type:"rect",text:e,x:0,y:0})},this.diamond=function(t){var e=t.text;return i.textWrapperShape({type:"diamond",text:e,x:0,y:0})},this.vline=function(e){var a=e.x,r=e.y,n=e.step,h=e.isArrow,o=void 0!==h&&h;return t(t({},i.baseShape()),{type:"path",x:a,y:r,height:Math.abs(n),cmds:[["v",n]],minY:Math.min(0,n),maxY:Math.max(0,n),isArrow:o})},this.hline=function(e){var a=e.x,r=e.y,n=e.step,h=e.isArrow,o=void 0!==h&&h;return t(t({},i.baseShape()),{type:"path",x:a,y:r,width:Math.abs(n),cmds:[["h",n]],minX:Math.min(0,n),maxX:Math.max(0,n),isArrow:o})},this.path=function(e){var a=e.x,r=e.y,n=e.cmds,h=e.isArrow,o=void 0!==h&&h,s=0,x=0,p=0,c=0,u=0,m=0;return n.forEach(function(t){var e=t[0],a=t[1];"h"===e?s+=a:x+=a,p=Math.min(p,s),c=Math.min(c,x),u=Math.max(u,s),m=Math.max(u,x)}),t(t({},i.baseShape()),{type:"path",x:a,y:r,minX:p,minY:c,maxX:u,maxY:m,width:u-p,height:m-c,cmds:n,isArrow:o})},this._text=function(e){var a=e.text,r=e.attrs,n=i.measureText(a,r),h=n.width,o=n.height;return t(t({},i.baseShape()),{type:"text",content:a,maxX:h,maxY:o,width:h,height:o})},this.text=function(e){var a=e.text;return t(t({},i._text({text:a,attrs:i.config.text.attrs})),{isLabel:!1})},this.label=function(e){var a=e.text;return t(t({},i._text({text:a,attrs:i.config.label.attrs})),{isLabel:!0})},this.point=function(e){var a=e.x,r=e.y;return t(t({},i.baseShape()),{type:"point",x:a,y:r})},this.group=function(t){var a=t.x,r=t.y,n=t.children;0===n.length&&(n=e(n,[i.point({x:a,y:r})]));var h=Math.min.apply(Math,n.map(function(t){return t.x+t.minX})),o=Math.min.apply(Math,n.map(function(t){return t.y+t.minY})),s=Math.max.apply(Math,n.map(function(t){return t.x+t.maxX})),x=Math.max.apply(Math,n.map(function(t){return t.y+t.maxY}));return{type:"group",x:a,y:r,minX:h,minY:o,maxX:s,maxY:x,width:s-h,height:x-o,children:n}},this.textWrapperShape=function(e){var a,r,n=e.type,h=e.text,o=e.x,s=e.y,x=i.measureText(h,i.config.text.attrs);"rect"===n?(a=x.width+2*i.config.rect.padX,r=x.height+2*i.config.rect.padY):"diamond"===n&&(a=x.width+x.height/i.config.diamond.aspectRatio,r=x.height+x.width*i.config.diamond.aspectRatio);var p=i.trans(i.text({text:h}),-x.width/2,r/2-x.height/2),c=t(t({},i.baseShape()),{type:n,x:-a/2,width:a,height:r,maxX:a,maxY:r});return i.group({x:o,y:s,children:[p,c]})},this.trans=function(t,e,a){return t.x+=e,t.y+=a,t},this.config=a,this.measureText=r}}();exports.Factory=a;
},{}],"iZAl":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var o,n=1,r=arguments.length;n<r;n++)for(var e in o=arguments[n])Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,o=0,n=arguments.length;o<n;o++)t+=arguments[o].length;var r=Array(t),e=0;for(o=0;o<n;o++)for(var a=arguments[o],i=0,c=a.length;i<c;i++,e++)r[e]=a[i];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createFlowchart=void 0;var n=require("./shape"),r=!1,e=function(t){return r&&console.assert(t)},a=function(t,o,n,r){var e=t.shapeGroup,a=t.endPoint,i=t.breakPoints,c=t.continuePoints;return o.factory.trans(e,n,r),a&&o.factory.trans(a,n,r),i&&i.forEach(function(t){return o.factory.trans(t,n,r)}),c&&c.forEach(function(t){return o.factory.trans(t,n,r)}),t},i=function(t){var o=t.node,r=t.config,e=t.measureText,a=new n.Factory(r,e),i=c(o,{config:r,factory:a,loopStack:[],option:{shouldStep:!0}}),h=i.shapeGroup;return a.trans(h,-h.minX+r.flowchart.marginX,-h.minY+r.flowchart.marginY),i};exports.createFlowchart=i;var c=function(t,o){for(var n=[],r=[],e=[],i=o.factory.point({x:0,y:0}),c=0;c<t.children.length&&i;){var f=t.children[c];switch(f.type){case"text":var y=o.factory.vline({x:0,y:i.y,step:o.config.flowchart.stepY});n.push(y),o.factory.trans(i,0,o.config.flowchart.stepY);var l=o.factory.rect({text:f.content});o.factory.trans(l,0,i.y),n.push(l),o.factory.trans(i,0,l.height);break;case"pass":y=o.factory.vline({x:0,y:i.y,step:o.config.flowchart.stepY});n.push(y),o.factory.trans(i,0,o.config.flowchart.stepY);break;case"if":for(var u=[];c<t.children.length&&"if"===t.children[c].type;)u.push(t.children[c]),c++;for(;c<t.children.length&&"elif"===t.children[c].type;)u.push(t.children[c]),c++;for(;c<t.children.length&&"else"===t.children[c].type;)u.push(t.children[c]),c++;var d=h(u,o);a(d,o,0,i.y),n.push(d.shapeGroup),r.push.apply(r,d.breakPoints),e.push.apply(e,d.continuePoints),d.endPoint?o.factory.trans(i,0,d.endPoint.y-i.y):i=null;continue;case"while":o.loopStack.push("while");var g=s(f,o);a(g,o,0,i.y),n.push(g.shapeGroup),r.push.apply(r,g.breakPoints),e.push.apply(e,g.continuePoints),i=g.endPoint,g.endPoint?o.factory.trans(i,0,g.endPoint.y-i.y):i=null,o.loopStack.pop();break;case"do":o.loopStack.push("doWhile");var x=f,w=t.children[c+1],v=p(x,w,o);a(v,o,0,i.y),n.push(v.shapeGroup),r.push.apply(r,v.breakPoints),e.push.apply(e,v.continuePoints),v.endPoint?o.factory.trans(i,0,v.endPoint.y-i.y):i=null,c+=2,o.loopStack.pop();continue;case"break":if(o.option.shouldStep){y=o.factory.vline({x:0,y:i.y,step:o.config.flowchart.stepY});n.push(y),o.factory.trans(i,0,o.config.flowchart.stepY)}r.push(o.factory.point({x:0,y:i.y})),i=null;break;case"continue":if(o.option.shouldStep){y=o.factory.vline({x:0,y:i.y,step:o.config.flowchart.stepY});n.push(y),o.factory.trans(i,0,o.config.flowchart.stepY)}e.push(o.factory.point({x:0,y:i.y})),i=null;break;case"for":o.loopStack.push("for"),o.loopStack.pop()}c++}if(i)o.factory.group({x:0,y:0,children:n});return{type:"flowchart",shapeGroup:o.factory.group({x:0,y:0,children:n}),endPoint:i,breakPoints:r,continuePoints:e}},h=function n(r,i){if(0===r.length)return{type:"flowchart",shapeGroup:i.factory.group({x:0,y:0,children:[]}),endPoint:i.factory.point({x:0,y:0}),breakPoints:[],continuePoints:[]};if("else"===r[0].type)return c(r[0],i);e(["if","elif"].includes(r[0].type));var h=[],s=i.factory.vline({x:0,y:0,step:i.config.flowchart.stepY});h.push(s);var p=i.config.flowchart.stepY,f=r[0],y=i.factory.diamond({text:f.content});i.factory.trans(y,0,p),h.push(y);var l={right:{x:y.width/2,y:y.y+y.height/2},left:{x:-y.width/2,y:y.y+y.height/2},bottom:{x:0,y:y.y+y.height}},u=i.loopStack.length>0?i.loopStack.slice(-1)[0]:"",d="bottom",g="right",x=null;if(f.children.length>0){var w=f.children[0];"break"===w.type||"continue"===w.type&&"doWhile"===u?(d="right",!0,i.option.shouldStep=!1):"continue"===w.type&&"while"===u&&(d="left",!0,i.option.shouldStep=!1)}var v=c(f,i);i.option.shouldStep=!0,a(v,i,l[d].x,l[d].y),h.push(v.shapeGroup),v.endPoint&&(x=t({},v.endPoint)),h.push(i.factory.trans(i.factory.label({text:i.config.label.yesText}),l[d].x+i.config.diamond.labelMarginX,l[d].y+i.config.diamond.labelMarginY));var P=!1,b=null;if("right"!==d&&"left"!==d||(g="bottom"),r.length>1&&"else"===r[1].type&&r[1].children.length>0){var m=r[1].children[0];("break"===m.type||"continue"===m.type&&"doWhile"===u)&&"right"!==d?(g="right",P=!0,i.option.shouldStep=!1):"continue"===m.type&&"while"===u&&"left"!==d&&(g="left",P=!0,i.option.shouldStep=!1)}var Y=n(r.slice(1),i);if(i.option.shouldStep=!0,P)a(Y,i,l[g].x,l[g].y);else if("bottom"===d){a(Y,i,Math.max(y.width/2,v.shapeGroup.maxX)+i.config.flowchart.stepX-Y.shapeGroup.minX,p+y.height/2);var G=i.factory.hline({x:l.right.x,y:l.right.y,step:Y.shapeGroup.x-y.width/2});h.push(G);var k=Math.max(v.shapeGroup.y+v.shapeGroup.maxY,Y.shapeGroup.y+Y.shapeGroup.maxY)+i.config.flowchart.stepY;if([v,Y].forEach(function(t){if(t.endPoint){var o=t.shapeGroup,n=i.factory.vline({x:o.x,y:o.y+o.maxY,step:k-o.maxY-o.y});h.push(n)}}),Y.endPoint&&(b=t({},Y.endPoint)),Y.endPoint){var X=i.factory.hline({x:Y.shapeGroup.x,y:k,step:-Y.shapeGroup.x+y.x,isArrow:!!v.endPoint});h.push(X),i.factory.trans(b,0,k-b.y)}}else e("bottom"===g),a(Y,i,l.bottom.x,l.bottom.y),Y.endPoint&&(b=t({},Y.endPoint));h.push(Y.shapeGroup),h.push(i.factory.trans(i.factory.label({text:i.config.label.noText}),l[g].x+i.config.diamond.labelMarginX,l[g].y+i.config.diamond.labelMarginY));var M=x;if((!M||b&&b.y>x.y)&&(M=b),M)i.factory.group({x:0,y:0,children:h});return{type:"flowchart",shapeGroup:i.factory.group({x:0,y:0,children:h}),endPoint:M,breakPoints:o(v.breakPoints,Y.breakPoints),continuePoints:o(v.continuePoints,Y.continuePoints)}},s=function(t,n){e("while"===t.type);var r=[],i=n.factory.point({x:0,y:0});r.push(n.factory.vline({x:0,y:i.y,step:n.config.flowchart.stepY})),n.factory.trans(i,0,n.config.flowchart.stepY),r.push(n.factory.vline({x:0,y:i.y,step:n.config.flowchart.stepY})),n.factory.trans(i,0,n.config.flowchart.stepY);var h=n.factory.diamond({text:t.content});r.push(h),n.factory.trans(h,0,i.y),r.push(n.factory.trans(n.factory.label({text:n.config.label.yesText}),0+n.config.diamond.labelMarginX,h.y+h.height+n.config.diamond.labelMarginY)),r.push(n.factory.trans(n.factory.label({text:n.config.label.noText}),h.width/2+n.config.diamond.labelMarginX,h.y+h.height/2+n.config.diamond.labelMarginY)),n.factory.trans(i,0,h.height);var s,p,f=c(t,n);a(f,n,0,i.y),r.push(f.shapeGroup),n.factory.trans(i,0,f.endPoint?f.endPoint.y-i.y:f.shapeGroup.height);var y=o(f.continuePoints),l=o(f.breakPoints);if(f.endPoint&&(r.push(n.factory.vline({x:0,y:i.y,step:n.config.flowchart.stepY})),n.factory.trans(i,0,n.config.flowchart.stepY),y.push(n.factory.point({x:0,y:i.y}))),l.push(n.factory.point({x:h.width/2,y:h.y+h.height/2})),s=-Math.max(h.width/2,-f.shapeGroup.minX)-n.config.flowchart.stepX,p=Math.max(h.width/2,f.shapeGroup.maxX)+n.config.flowchart.stepX,y.sort(function(t,o){return t.y>o.y?-1:1}).forEach(function(t,o){0===o?r.push(n.factory.path({x:t.x,y:t.y,cmds:[["h",s-t.x],["v",h.y-n.config.flowchart.stepY-t.y],["h",-s]],isArrow:!0})):r.push(n.factory.hline({x:t.x,y:t.y,step:s-t.x,isArrow:!0}))}),n.factory.trans(i,0,n.config.flowchart.stepY),l.sort(function(t,o){return t.y<o.y?-1:1}).forEach(function(t,o){0===o?r.push(n.factory.path({x:t.x,y:t.y,cmds:[["h",p-h.width/2],["v",i.y-t.y],["h",-p]]})):r.push(n.factory.hline({x:t.x,y:t.y,step:p-t.x,isArrow:!0}))}),i)n.factory.group({x:0,y:0,children:r});return{type:"flowchart",shapeGroup:n.factory.group({x:0,y:0,children:r}),endPoint:i,breakPoints:[],continuePoints:[]}},p=function(t,n,r){e("do"===t.type),e("while"===n.type);var i=[],h=r.factory.point({x:0,y:0});i.push(r.factory.vline({x:0,y:h.y,step:r.config.flowchart.stepY})),r.factory.trans(h,0,r.config.flowchart.stepY);var s,p,f=h.y,y=c(t,r);a(y,r,0,h.y),i.push(y.shapeGroup),r.factory.trans(h,0,y.endPoint?y.endPoint.y-h.y:y.shapeGroup.height);var l=0,u=o(y.breakPoints);if(y.endPoint||y.continuePoints.length>0){y.continuePoints.length>0&&(y.endPoint&&i.push(r.factory.vline({x:0,y:h.y,step:r.config.flowchart.stepY})),r.factory.trans(h,0,r.config.flowchart.stepY),l=y.shapeGroup.maxX+r.config.flowchart.stepX,y.continuePoints.sort(function(t,o){return t.y<o.y?-1:1}).forEach(function(t,o){0===o?i.push(r.factory.path({x:t.x,y:t.y,cmds:[["h",l-t.x],["v",h.y-t.y],["h",-l]],isArrow:!0})):i.push(r.factory.hline({x:t.x,y:t.y,step:l-t.x,isArrow:!0}))})),i.push(r.factory.vline({x:0,y:h.y,step:r.config.flowchart.stepY})),r.factory.trans(h,0,r.config.flowchart.stepY);var d=r.factory.diamond({text:n.content});i.push(d),r.factory.trans(d,0,h.y),i.push(r.factory.trans(r.factory.label({text:r.config.label.yesText}),0+r.config.diamond.labelMarginX,d.y+d.height+r.config.diamond.labelMarginY)),i.push(r.factory.trans(r.factory.label({text:r.config.label.noText}),d.width/2+r.config.diamond.labelMarginX,d.y+d.height/2+r.config.diamond.labelMarginY)),r.factory.trans(h,0,d.height),i.push(r.factory.vline({x:0,y:h.y,step:r.config.flowchart.stepY})),r.factory.trans(h,0,r.config.flowchart.stepY),s=Math.min(-d.width/2,y.shapeGroup.minX)-r.config.flowchart.stepX,i.push(r.factory.path({x:0,y:h.y,cmds:[["h",s],["v",f-h.y],["h",-s]],isArrow:!0})),p=Math.max(d.width/2,y.shapeGroup.maxX,l)+r.config.flowchart.stepX,u.push(r.factory.point({x:d.width/2,y:d.y+d.height/2}))}else r.factory.trans(h,0,r.config.flowchart.stepY),p=y.shapeGroup.maxX+r.config.flowchart.stepX;if(r.factory.trans(h,0,r.config.flowchart.stepY),u.sort(function(t,o){return t.y<o.y?-1:1}).forEach(function(t,o){0===o?i.push(r.factory.path({x:t.x,y:t.y,cmds:[["h",p-t.x],["v",h.y-t.y],["h",-p]]})):i.push(r.factory.hline({x:t.x,y:t.y,step:p-t.x,isArrow:!0}))}),h)r.factory.group({x:0,y:0,children:i});return{type:"flowchart",shapeGroup:r.factory.group({x:0,y:0,children:i}),endPoint:h,breakPoints:[],continuePoints:[]}};
},{"./shape":"qVa1"}],"HGl0":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,a=1,r=arguments.length;a<r;a++)for(var l in e=arguments[a])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeDefaultConfig=exports.defaultConfig=void 0;var e={src:{indentStr:"  ",commentStr:"#"},flowchart:{marginX:35,marginY:35,stepX:24,stepY:24},rect:{padX:12,padY:8,attrs:{stroke:"black",fill:"white","stroke-width":"2px","fill-opacity":"0%"}},diamond:{aspectRatio:.75,labelMarginX:1,labelMarginY:0,attrs:{stroke:"black",fill:"white","fill-opacity":"0%","stroke-width":"2px"}},path:{attrs:{stroke:"black",fill:"black","stroke-linecap":"square","stroke-width":"2px","fill-opacity":"0%","stroke-opacity":"100%"}},arrowHead:{size:15,attrs:{stroke:"black",fill:"black","fill-opacity":"100%","stroke-width":"0px"}},text:{attrs:{stroke:"black",fill:"black","fill-opacity":"100%","font-size":"14px","stroke-width":"0"}},label:{yesText:"Y",noText:"N",attrs:{stroke:"black",fill:"black","fill-opacity":"100%","font-size":"10px","font-weight":"lighter"}}};exports.defaultConfig=e;var a=function(a){return a?{src:t(t({},e.src),a.src||{}),flowchart:t(t({},e.flowchart),a.flowchart||{}),rect:t(t({},e.rect),a.rect||{}),diamond:t(t({},e.diamond),a.diamond||{}),path:t(t({},e.path),a.path||{}),arrowHead:t(t({},e.arrowHead),a.arrowHead||{}),text:t(t({},e.text),a.text||{}),label:t(t({},e.label),a.label||{})}:e};exports.mergeDefaultConfig=a;
},{}],"QCKC":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=void 0;var t=require("../parser"),r=require("../flowchart"),a=require("../config"),n=function(){return function(n){var i=this,o=n.src,s=n.config,h=n.document;this.el=function(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var n=i._document.createElementNS("http://www.w3.org/2000/svg",e);return Object.entries(t||{}).forEach(function(e){var t=e[0],r=e[1];return n.setAttribute("className"===t?"class":t,r.toString())}),(r||[]).forEach(function(e){return n.append(e)}),n},this.createTextSVGElement=function(e,t){var r=i.el,a=r("text",t||{});return e.split(/\\n/).forEach(function(e,n){a.append(r("tspan",{x:t.x,dy:(0===n?0:1)+"em"},e))}),a},this.measureText=function(t,r){void 0===r&&(r={});var a=i,n=a.dummySVG,o=a.createTextSVGElement,s=e(e({},r),{x:r.x||0});i._document.body.append(n);var h=o(t,s);n.append(h);var c=h.getBoundingClientRect(),d=c.width,p=c.height;return n.removeChild(h),i._document.body.removeChild(n),{width:d,height:p}},this.renderShape=function(t){var r=t.layers,a=t.shape,n=t.config,o=t.offsetX,s=void 0===o?0:o,h=t.offsetY,c=void 0===h?0:h,d=i,p=d.el,u=d.createTextSVGElement,f=d.renderShape,l=d.measureText,g=s+a.x,m=c+a.y,v=a.width,w=a.height;switch(a.type){case"group":a.children.forEach(function(e){return f({layers:r,config:n,shape:e,offsetX:g,offsetY:m})});break;case"text":r.textLayer.append(u(a.content,e({x:g,y:m+l("A",a.isLabel?n.label.attrs:n.text.attrs).height/2,"dominant-baseline":"central"},a.isLabel?n.label.attrs:n.text.attrs)));break;case"path":var y="M "+g+" "+m,x=a.cmds.map(function(e){return e.join(" ")}).join(" ");r.pathLayer.append(p("path",e(e({d:y+" "+x},a.isArrow?{"marker-end":"url(#arrow-head)"}:{}),n.path.attrs)));break;case"rect":r.nodeLayer.append(p("rect",e({x:g,y:m,width:v,height:w},n.rect.attrs)));break;case"diamond":r.nodeLayer.append(p("polygon",e({points:g+v/2+","+m+", "+(g+v)+","+(m+w/2)+" "+(g+v/2)+","+(m+w)+" "+g+","+(m+w/2)},n.diamond.attrs)))}},this.render=function(){var n=i,o=n.src,s=n.config,h=n.el,c=n.measureText,d=n.renderShape;s=a.mergeDefaultConfig(s);var p=i.el("svg"),u=h("defs",null,h("marker",{id:"arrow-head",markerUnits:"userSpaceOnUse",markerWidth:""+s.arrowHead.size,markerHeight:""+2*s.arrowHead.size,viewBox:"0 0 10 10",refX:"10",refY:"5",orient:"auto-start-reverse"},h("polygon",e({points:"0,0 0,10 10,5",class:"arrow-head"},s.arrowHead.attrs))));p.append(u);var f=h("g"),l=h("g"),g=h("g"),m=r.createFlowchart({node:t.parse(o,s),config:s,measureText:c});return d({layers:{pathLayer:f,nodeLayer:l,textLayer:g},shape:m.shapeGroup,config:s}),p.append(f),p.append(l),p.append(g),p.setAttribute("width",(m.shapeGroup.width+2*s.flowchart.marginX).toString()),p.setAttribute("height",(m.shapeGroup.height+2*s.flowchart.marginY).toString()),p},this._document=h,this.src=o,this.config=e(e({},a.defaultConfig),s),this.dummySVG=this.el("svg")}}(),i=function(e){return new n(e).render()};exports.render=i;
},{"../parser":"WDTd","../flowchart":"iZAl","../config":"HGl0"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../renderer/svg"),r={initialize:function(r){e(document.getElementsByClassName("tefcha")).forEach(function(e){var n=e.textContent;e.textContent="",e.append(t.render({src:n,document:document,config:r}))})}};window.tefcha=r;
},{"../renderer/svg":"QCKC"}]},{},["ZCfc"], null)
//# sourceMappingURL=/tefcha.js.map